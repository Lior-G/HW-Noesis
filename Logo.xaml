<Page
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  mc:Ignorable="d"
  d:DesignWidth="1920"
  d:DesignHeight="1080"
  Background="#FF4D5052">
	<Grid
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:noesis="clr-namespace:NoesisGUIExtensions;assembly=Noesis.GUI.Extensions">
		<Canvas Width="400" Height="400" Background="#cccccc">
			<Canvas.Resources>
				<Storyboard x:Key="InfinityAnim">
					<!-- Path tracing -->
					<DoubleAnimation Storyboard.TargetName="InfinityPath"
                       Storyboard.TargetProperty="(noesis:Path.TrimEnd)"
                       From="0" To="1"
                       Duration="0:0:1"
                       FillBehavior="HoldEnd"/>
					<!-- Scale with keyframes -->
					<DoubleAnimationUsingKeyFrames Storyboard.TargetName="InfinityScale"
                                     Storyboard.TargetProperty="ScaleX"
                                     FillBehavior="HoldEnd">
						<LinearDoubleKeyFrame Value="1" KeyTime="0:0:0"/>
						<LinearDoubleKeyFrame Value="1" KeyTime="0:0:1"/>
						<LinearDoubleKeyFrame Value="1.1" KeyTime="0:0:2"/>
						<!-- 1.5s path + 0.5s scale up -->
						<LinearDoubleKeyFrame Value="0.8" KeyTime="0:0:2.3"/>
						<!-- scale down -->
					</DoubleAnimationUsingKeyFrames>
					<DoubleAnimationUsingKeyFrames Storyboard.TargetName="InfinityScale"
                                     Storyboard.TargetProperty="ScaleY"
                                     FillBehavior="HoldEnd">
						<LinearDoubleKeyFrame Value="1" KeyTime="0:0:0"/>
						<LinearDoubleKeyFrame Value="1" KeyTime="0:0:1"/>
						<LinearDoubleKeyFrame Value="1.1" KeyTime="0:0:2"/>
						<LinearDoubleKeyFrame Value="0.8" KeyTime="0:0:2.3"/>
					</DoubleAnimationUsingKeyFrames>
					<DoubleAnimationUsingKeyFrames Storyboard.TargetName="InfinityRotate"
                               Storyboard.TargetProperty="Angle"
                               FillBehavior="HoldEnd">
						<LinearDoubleKeyFrame Value="0" KeyTime="0:0:2.3"/>
						<LinearDoubleKeyFrame Value="-5" KeyTime="0:0:2.35"/>
						<LinearDoubleKeyFrame Value="5" KeyTime="0:0:2.4"/>
						<LinearDoubleKeyFrame Value="-5" KeyTime="0:0:2.45"/>
						<LinearDoubleKeyFrame Value="5" KeyTime="0:0:2.5"/>
						<LinearDoubleKeyFrame Value="0" KeyTime="0:0:2.55"/>
					</DoubleAnimationUsingKeyFrames>
				</Storyboard>
			</Canvas.Resources>
			<Canvas.Triggers>
				<EventTrigger RoutedEvent="FrameworkElement.Loaded">
					<BeginStoryboard Storyboard="{StaticResource InfinityAnim}" />
				</EventTrigger>
			</Canvas.Triggers>
			<Path x:Name="InfinityPath"
          Stroke="#000000"
          StrokeThickness="25"
          StrokeStartLineCap="Square"
          StrokeEndLineCap="Square"
          StrokeLineJoin="Miter"
          noesis:Path.TrimStart="0"
          noesis:Path.TrimEnd="0"
          Data="M 212.5,312.5
                L 225,325
                A 60,60 0 1 0 225,250
                L 155,325
                A 60,60 0 1 1 155,250
                L 167.5,262.5">
				<Path.RenderTransform>
					<TransformGroup>
						<ScaleTransform x:Name="InfinityScale"
                          CenterX="200"
                          CenterY="300"
                          ScaleX="1"
                          ScaleY="1"/>
						<RotateTransform x:Name="InfinityRotate" CenterX="200" CenterY="300" Angle="0"/>
					</TransformGroup>
				</Path.RenderTransform>
			</Path>
		</Canvas>
	</Grid>
</Page>